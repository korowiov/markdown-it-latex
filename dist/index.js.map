{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap f79a1ff6d54380348349","webpack:///./src/index.js","webpack:///external \"asciimath-to-latex\"","webpack:///external \"katex\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","value","_asciimathToLatex2","_asciimathToLatex","_katex2","_katex","mathBlock","code","tex","split","forEach","line","katex","renderToString","trim","displayMode","err","LatexPlugin","md","temp1","renderer","rules","code_inline","bind","tokens","idx","options","env","slf","content","startsWith","endsWith","substr","length","temp2","fence","token","info","test","map","item","join","require"],"mappings":"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","file":"index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(1);\n\nvar _asciimathToLatex = __webpack_require__(2);\n\nvar _asciimathToLatex2 = _interopRequireDefault(_asciimathToLatex);\n\nvar _katex = __webpack_require__(3);\n\nvar _katex2 = _interopRequireDefault(_katex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mathBlock = function mathBlock(code) {\n  var tex = '';\n  code.split(/(?:\\n\\s*){2,}/).forEach(function (line) {\n    // consecutive new lines means a new formula\n    try {\n      tex += _katex2.default.renderToString(line.trim(), { displayMode: true });\n    } catch (err) {\n      tex += '<pre>' + err + '</pre>';\n    }\n  });\n  return '<div>' + tex + '</div>';\n};\n\nvar LatexPlugin = function LatexPlugin(md) {\n  // inline math\n  var temp1 = md.renderer.rules.code_inline.bind(md.renderer.rules);\n  md.renderer.rules.code_inline = function (tokens, idx, options, env, slf) {\n    var code = tokens[idx].content;\n    if (code.startsWith('@') && code.endsWith('@')) {\n      code = '$' + (0, _asciimathToLatex2.default)(code.substr(1, code.length - 2)) + '$';\n    }\n    if (code.startsWith('$') && code.endsWith('$')) {\n      // inline math\n      code = code.substr(1, code.length - 2);\n      try {\n        return _katex2.default.renderToString(code);\n      } catch (err) {\n        return '<code>' + err + '</code>';\n      }\n    }\n    return temp1(tokens, idx, options, env, slf);\n  };\n\n  // fenced math block\n  var temp2 = md.renderer.rules.fence.bind(md.renderer.rules);\n  md.renderer.rules.fence = function (tokens, idx, options, env, slf) {\n    var token = tokens[idx];\n    var code = token.content.trim();\n    if (token.info === 'math' || token.info === 'katex') {\n      // math\n      return mathBlock(code);\n    }\n    if (/^ascii-?math/i.test(token.info)) {\n      code = code.split(/(?:\\n\\s*){2,}/).map(function (item) {\n        return (0, _asciimathToLatex2.default)(item);\n      }).join('\\n\\n');\n      return mathBlock(code);\n    }\n    return temp2(tokens, idx, options, env, slf);\n  };\n};\n\nexports.default = LatexPlugin;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"asciimath-to-latex\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"katex\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f79a1ff6d54380348349","import './katex.css'\n\nimport asciimath2latex from 'asciimath-to-latex'\nimport katex from 'katex'\n\nconst mathBlock = (code) => {\n  let tex = ''\n  code.split(/(?:\\n\\s*){2,}/).forEach((line) => { // consecutive new lines means a new formula\n    try {\n      tex += katex.renderToString(line.trim(), { displayMode: true })\n    } catch (err) {\n      tex += `<pre>${err}</pre>`\n    }\n  })\n  return `<div>${tex}</div>`\n}\n\nconst LatexPlugin = (md) => {\n  // inline math\n  const temp1 = md.renderer.rules.code_inline.bind(md.renderer.rules)\n  md.renderer.rules.code_inline = (tokens, idx, options, env, slf) => {\n    let code = tokens[idx].content\n    if (code.startsWith('@') && code.endsWith('@')) {\n      code = '$' + asciimath2latex(code.substr(1, code.length - 2)) + '$'\n    }\n    if (code.startsWith('$') && code.endsWith('$')) { // inline math\n      code = code.substr(1, code.length - 2)\n      try {\n        return katex.renderToString(code)\n      } catch (err) {\n        return `<code>${err}</code>`\n      }\n    }\n    return temp1(tokens, idx, options, env, slf)\n  }\n\n  // fenced math block\n  const temp2 = md.renderer.rules.fence.bind(md.renderer.rules)\n  md.renderer.rules.fence = (tokens, idx, options, env, slf) => {\n    let token = tokens[idx]\n    let code = token.content.trim()\n    if (token.info === 'math' || token.info === 'katex') { // math\n      return mathBlock(code)\n    }\n    if (/^ascii-?math/i.test(token.info)) {\n      code = code.split(/(?:\\n\\s*){2,}/).map((item) => { return asciimath2latex(item) }).join('\\n\\n')\n      return mathBlock(code)\n    }\n    return temp2(tokens, idx, options, env, slf)\n  }\n}\n\nexport default LatexPlugin\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"asciimath-to-latex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"asciimath-to-latex\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"katex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"katex\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}